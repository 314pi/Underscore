<link rel="stylesheet" href="what.css" type="text/css" />
<h2>[_errorhandler] v.[2015-10-08] rev.[11:20:00] </h2>
<h3>NAME </h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_errorhandler&nbsp;--&nbsp;Echos&nbsp;a&nbsp;formatted&nbsp;error&nbsp;message&nbsp;w.&nbsp;filename,&nbsp;line&nbsp;no,&nbsp;errorID&nbsp;and&nbsp;additional&nbsp;help&nbsp;</tt><br>
<tt>&nbsp;&nbsp;</tt><br>
<h3>SYNOPSIS </h3>
<tt>&nbsp;&nbsp;_errorhandler&nbsp;file&nbsp;uniqueStr&nbsp;{formatter}&nbsp;{offset}&nbsp;</tt><br>
<tt>&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt><br>
<h3>OPTIONS </h3>
<tt>&nbsp;&nbsp;uniqueStr&nbsp;[in]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;a&nbsp;unique&nbsp;string&nbsp;to&nbsp;identify&nbsp;the&nbsp;line&nbsp;</tt><br>
<tt>&nbsp;&nbsp;formatter&nbsp;[in,opt]&nbsp;-&nbsp;a&nbsp;string&nbsp;using&nbsp;__FILE__&nbsp;and/or&nbsp;__LINE__&nbsp;to&nbsp;be&nbsp;substituted&nbsp;and&nbsp;echoed&nbsp;</tt><br>
<tt>&nbsp;&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;[in,opt]&nbsp;-&nbsp;offset&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;line&nbsp;number&nbsp;</tt><br>
<tt>&nbsp;&nbsp;</tt><br>
<h3>DESCRIPTION </h3>
<tt>&nbsp;&nbsp;This&nbsp;function&nbsp;outputs&nbsp;a&nbsp;formatted&nbsp;string&nbsp;with&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;Full&nbsp;file&nbsp;name&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;Line&nbsp;number&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;Error&nbsp;ID&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;Error&nbsp;message&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;Extended&nbsp;error&nbsp;message&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;Additional&nbsp;help&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;Displayed&nbsp;in&nbsp;a&nbsp;syntax&nbsp;like&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileName(LineNr)[ErrorID]:&nbsp;Error&nbsp;message&nbsp;&nbsp;Extended&nbsp;error&nbsp;message&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Additional&nbsp;help&nbsp;</tt><br>
<tt>&nbsp;</tt><br>
<h3>EXTENDED ERROR MESSAGE </h3>
<tt>&nbsp;&nbsp;Is&nbsp;stored&nbsp;in&nbsp;environment&nbsp;variables&nbsp;like&nbsp;</tt><br>
<tt>&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;SET&nbsp;@Error.001=First&nbsp;error&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;SET&nbsp;@Error.002=Second&nbsp;error&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;SET&nbsp;@Error.003=Third&nbsp;error&nbsp;</tt><br>
<tt>&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;Variables&nbsp;are&nbsp;set&nbsp;on&nbsp;initiating&nbsp;the&nbsp;main&nbsp;script&nbsp;</tt><br>
<tt>&nbsp;</tt><br>
<h3>ADDITIONAL HELP </h3>
<tt>&nbsp;&nbsp;Attempting&nbsp;to&nbsp;mimic&nbsp;the&nbsp;oerr&nbsp;help&nbsp;message&nbsp;utility&nbsp;extracting&nbsp;help&nbsp;from&nbsp;a&nbsp;table&nbsp;</tt><br>
<tt>&nbsp;&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;script.&nbsp;All&nbsp;lines&nbsp;matching&nbsp;the&nbsp;prefix&nbsp;'::#ERRORID'&nbsp;will&nbsp;be&nbsp;displayed.&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::**********************************************************************&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::*&nbsp;Error&nbsp;messages&nbsp;(like&nbsp;Oracle&nbsp;oerr)&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::**********************************************************************&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.000&nbsp;Error.000&nbsp;--&nbsp;Template&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.000&nbsp;//&nbsp;*Cause:&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.000&nbsp;//&nbsp;*Action:&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::----------------------------------------------------------------.......&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.001&nbsp;Error.001&nbsp;-&nbsp;first&nbsp;error&nbsp;-&nbsp;Non&nbsp;fatal&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.001&nbsp;//&nbsp;*Cause:&nbsp;Some&nbsp;error&nbsp;has&nbsp;occured&nbsp;(Continuing)&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.001&nbsp;//&nbsp;*Action:&nbsp;What&nbsp;to&nbsp;do&nbsp;to&nbsp;prevent&nbsp;this&nbsp;error&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.001&nbsp;//&nbsp;OR&nbsp;what&nbsp;action&nbsp;to&nbsp;take&nbsp;to&nbsp;clean&nbsp;up&nbsp;the&nbsp;mess&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.002&nbsp;Error.002&nbsp;-&nbsp;Second&nbsp;error&nbsp;-&nbsp;Non&nbsp;fatal&nbsp;w&nbsp;emailFatal&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.002&nbsp;//&nbsp;*Cause:&nbsp;Non&nbsp;fatal&nbsp;error&nbsp;-&nbsp;but&nbsp;sending&nbsp;email&nbsp;to&nbsp;Sysadm&nbsp;(Continuing)&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.002&nbsp;//&nbsp;*Action:&nbsp;What&nbsp;to&nbsp;do&nbsp;to&nbsp;prevent&nbsp;this&nbsp;error&nbsp;OR&nbsp;what&nbsp;action&nbsp;to&nbsp;take&nbsp;to&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.002&nbsp;//&nbsp;clean&nbsp;up&nbsp;the&nbsp;mess&nbsp;when&nbsp;script&nbsp;has&nbsp;aborted&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.003&nbsp;Error.003&nbsp;-&nbsp;Second&nbsp;error&nbsp;-&nbsp;Fatal&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.003&nbsp;//&nbsp;*Cause:&nbsp;Forced&nbsp;fatal&nbsp;error&nbsp;(Aborting)&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.003&nbsp;//&nbsp;*Action:&nbsp;What&nbsp;to&nbsp;do&nbsp;to&nbsp;prevent&nbsp;this&nbsp;error&nbsp;OR&nbsp;what&nbsp;action&nbsp;to&nbsp;take&nbsp;to&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.003&nbsp;//&nbsp;clean&nbsp;up&nbsp;the&nbsp;mess&nbsp;when&nbsp;script&nbsp;has&nbsp;aborted.&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::#Error.003&nbsp;//&nbsp;Email&nbsp;send&nbsp;to&nbsp;Sysadm&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;::**********************************************************************&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;Additional&nbsp;help&nbsp;should&nbsp;be&nbsp;placed&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;main&nbsp;script&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt><br>
<h3>GLOBAL VARIABLES </h3>
<tt>&nbsp;&nbsp;$ErrorMsg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Short&nbsp;errormessage&nbsp;</tt><br>
<tt>&nbsp;&nbsp;$ErrorDesc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Descriptive&nbsp;errormessage&nbsp;incl.&nbsp;addtional&nbsp;help&nbsp;</tt><br>
<tt>&nbsp;</tt><br>
<tt>&nbsp;&nbsp;{CrLf}&nbsp;masks&nbsp;CrLf&nbsp;in&nbsp;$ErrorDesc.&nbsp;</tt><br>
<tt>&nbsp;</tt><br>
<tt>&nbsp;</tt><br>
<h3>EXAMPLES </h3>
<tt>&nbsp;&nbsp;SET&nbsp;_Error_=CALL&nbsp;'C:\_\\_ErrorHandler'&nbsp;'C:\_\_errorhandler.cmd'&nbsp;</tt><br>
<tt>&nbsp;&nbsp;CALL&nbsp;C:\_\_ErrorHandler&nbsp;C:\_\What.cmd&nbsp;'ERROR.001'&nbsp;'Testing&nbsp;error&nbsp;1'&nbsp;-1&nbsp;Continue&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;Will&nbsp;display:&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C:\Users\xxx\test.bat(23)[ERROR.001]:&nbsp;Testing&nbsp;error&nbsp;1&nbsp;First&nbsp;error&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Error.001&nbsp;-&nbsp;first&nbsp;error&nbsp;-&nbsp;Non&nbsp;fatal&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;*Cause:&nbsp;Some&nbsp;error&nbsp;has&nbsp;occured&nbsp;(Continuing)&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;*Action:&nbsp;What&nbsp;to&nbsp;do&nbsp;to&nbsp;prevent&nbsp;this&nbsp;error&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;OR&nbsp;what&nbsp;action&nbsp;to&nbsp;take&nbsp;to&nbsp;clean&nbsp;up&nbsp;the&nbsp;mess&nbsp;</tt><br>
<tt>&nbsp;&nbsp;&nbsp;</tt><br>
<tt>&nbsp;&nbsp;oerr&nbsp;</tt><br>
<h3>REFERENCE </h3>
<tt>&nbsp;&nbsp;http://clicketyclick.dk/development/dos/&nbsp;</tt><br>
<tt>&nbsp;&nbsp;:$reference&nbsp;http://www.dostips.com/forum/viewtopic.php?t=369&nbsp;</tt><br>
<tt>&nbsp;&nbsp;:$created&nbsp;20080512&nbsp;:$changed&nbsp;20080512&nbsp;</tt><br>
<tt>&nbsp;&nbsp;:$source&nbsp;http://www.dostips.com&nbsp;</tt><br>
<tt>&nbsp;</tt><br>
<h3>SOURCE </h3>
<tt>&nbsp;&nbsp;C:\_\_errorhandler.cmd&nbsp;</tt><br>
<tt>&nbsp;</tt><br>
<h3>(c)2015 Erik Bachmann, ClicketyClick.dk [ErikBachmann@ClicketyClick.dk] </h3>
<hr>
